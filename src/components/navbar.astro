---
import { Icon } from "astro-icon/components";
---

<section>
    <div
        class="sticky top-5 w-64 bg-second text-white m-6 p-6 shadow-xl/30 rounded-xl"
    >
        <div class="flex justify-center mb-6">
            <div
               class="relative flex-shrink-0 w-10 h-10 sm:w-20 sm:h-20 md:w-32 md:h-32 lg:w-40 lg:h-40 rounded-full overflow-hidden shadow-lg mb-6 md:mb-0 bg-accent" 
            >
                <!-- Your image should go here -->
                <img 
                    src="https://source.unsplash.com/random/400x400?portrait"
                    alt="Profile" 
                    class="object-cover w-full h-full"
                    onerror="this.style.display='none'; this.parentElement.classList.add('bg-accent');"
                />
            </div>
        </div>
        <div class="block text-center mb-4">
            <p class="font-heading font-bold text-[20px]">Name Surname</p>
            <p class="font-sans">Description</p>
        </div>
        <p class="text-center font-heading font-bold mb-2">Contact:</p>
        <div class="flex justify-center gap-5 mb-6">
            <div
                class="w-10 h-10 bg-third rounded-full flex items-center justify-center text-xl"
            >
                <!-- Change this link to your linkedin profile -->
                <a href="https://linkedin.com/"
                    ><Icon name="linkedin1" size="3rem" /></a
                >
            </div>

            <div
                class="w-10 h-10 bg-third rounded-full flex items-center justify-center text-xl"
            >
                <!-- Change this link to your github page -->
                <a href="https://github.com/"
                    ><Icon name="github1" size="3rem" /></a
                >
            </div>

            <div
                class="w-10 h-10 bg-third rounded-full flex items-center justify-center text-xl"
            >
                <!-- Change this link to your work email address -->
                <a href="mailto:your_email@example.com"
                    ><Icon name="email1" size="3rem" /></a
                >
            </div>
        </div>

        <nav class="flex flex-col space-y-4">
            <a
                href="#top"
                class="font-heading relative inline-block bg-second text-white font-bold py-2 px-4 rounded
          hover:bg-button hover:text-accent transition-colors duration-300
          border-b-4 border-b-transparent
          overflow-hidden
          custom-underline"
            >
                Top
            </a>
            <a
                href="#about"
                class="font-heading relative inline-block bg-second text-white font-bold py-2 px-4 rounded
          hover:bg-button hover:text-accent transition-colors duration-300
          border-b-4 border-b-transparent
          overflow-hidden
          custom-underline"
            >
                About
            </a>
            <a
                href="#projects"
                class="font-heading relative inline-block bg-second text-white font-bold py-2 px-4 rounded
          hover:bg-button hover:text-accent transition-colors duration-300
          border-b-4 border-b-transparent
          overflow-hidden
          custom-underline"
            >
                Side Projects
            </a>
        </nav>
    </div>
</section>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const sections = document.querySelectorAll("section[id]");
        const navLinks = document.querySelectorAll("nav a");

        function onScroll() {
            sections.forEach((section) => {
                const id = section.getAttribute("id");
                const offset = section.getBoundingClientRect();
                const scrollPos = window.innerHeight / 2;

                if (scrollPos >= offset.top && scrollPos < offset.bottom) {
                    navLinks.forEach((link) => {
                        const isActive = link.getAttribute("href") === `#${id}`;
                        link.classList.toggle("active", isActive);
                        link.classList.toggle("pointer-events-none", isActive);
                    });
                }
            });
        }

        window.addEventListener("scroll", onScroll);
        onScroll();
    });
</script>
